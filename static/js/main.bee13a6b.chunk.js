(this["webpackJsonpvoter-react"]=this["webpackJsonpvoter-react"]||[]).push([[0],{247:function(e,t,a){e.exports=a(442)},273:function(e,t){},275:function(e,t){},313:function(e,t){},314:function(e,t){},442:function(e,t,a){"use strict";a.r(t);var r=a(2),l=a.n(r),n=a(109),c=a.n(n),o=a(68),s=a.n(o),i=a(116),m=a(117),d=a(123),u=a(118),p=a(124),f=a(119),h=a.n(f),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={selectedFile:null,photoidlabel:"Choose file"},a.fileSelectedHandler=function(e){a.setState({selectedFile:e.target.files[0],photoidlabel:e.target.files[0].name})},a.addVoter=function(e){var t,r;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,e.preventDefault(),(t=new FormData).append("file",a.state.selectedFile,a.state.selectedFile.name),t.append("electorname",e.target.nameid.value),t.append("fathername",e.target.fatherid.value),t.append("dob",e.target.dobid.value),t.append("sex",e.target.sexid.value),t.append("address",e.target.addressid.value),t.append("mobile",e.target.mobilenoid.value),l.next=13,s.a.awrap(h.a.post("".concat("https://voter-app-api.herokuapp.com","/addvoter"),t));case 13:r=l.sent,alert(r.data.message),l.next=21;break;case 17:l.prev=17,l.t0=l.catch(0),alert(l.t0),console.error(l.t0);case 21:case"end":return l.stop()}}),null,null,[[0,17]])},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card mt-5"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title mb-4 text-center"},"Voter Registration Form"),l.a.createElement("form",{className:"container d-inline-flex flex-column needs-validation",novalidate:!0,onSubmit:this.addVoter},l.a.createElement("div",{class:"form-group row"},l.a.createElement("label",{className:"col-4",for:"nameid"},"Elector's Name"),l.a.createElement("input",{type:"text",class:"form-control col-8",id:"nameid",placeholder:"Enter Full Name",required:!0})),l.a.createElement("div",{class:"form-group row"},l.a.createElement("label",{className:"col-4",for:"fatherid"},"Father's Name"),l.a.createElement("input",{type:"text",class:"form-control col-8",id:"fatherid",placeholder:"Enter Father's Full Name",required:!0})),l.a.createElement("div",{class:"form-group row d-flex"},l.a.createElement("label",{className:"col-4",for:"photoid"},"Photo"),l.a.createElement("div",{className:"col-8 custom-file"},l.a.createElement("input",{type:"file",className:"form-control custom-file-input",id:"photoid",onChange:this.fileSelectedHandler,ref:function(t){return e.fileInput=t},required:!0}),l.a.createElement("label",{class:"custom-file-label",id:"photoidlabel",for:"customFile"},this.state.photoidlabel))),l.a.createElement("div",{class:"form-group row"},l.a.createElement("label",{className:"col-4",for:"dobid"},"Date of Birth"),l.a.createElement("input",{type:"date",class:"form-control col-8",id:"dobid",placeholder:"Password",required:!0})),l.a.createElement("div",{class:"form-group row"},l.a.createElement("label",{className:"col-4",for:"sexid"},"Sex"),l.a.createElement("select",{class:"form-control col-8",id:"sexid"},l.a.createElement("option",null,"Male"),l.a.createElement("option",null,"Female"),l.a.createElement("option",null,"Other"))),l.a.createElement("div",{class:"form-group row"},l.a.createElement("label",{className:"col-4",for:"addressid"},"Address"),l.a.createElement("textarea",{class:"form-control col-8",row:"3",id:"addressid",required:!0})),l.a.createElement("div",{class:"form-group row"},l.a.createElement("label",{className:"col-4",for:"mobilenoid"},"Mobile no."),l.a.createElement("input",{type:"tel",class:"form-control col-8",id:"mobilenoid"})),l.a.createElement("button",{type:"submit",class:"btn btn-primary"},"Submit")))))}}]),t}(r.Component),v=a(122),b="FETCH_VOTER";function g(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}var N=a(26),w=N.e.create({page:{backgroundColor:"#ffffff"},rightColumn:{flexDirection:"column",width:"auto",paddingTop:30,paddingRight:15,"@media max-width: 400":{width:"100%",paddingRight:0},"@media orientation: landscape":{width:200}},container:{flex:1,padding:30,flexDirection:"row",paddingLeft:15,"@media max-width: 400":{paddingTop:10,paddingLeft:0}},leftColumn:{flexDirection:"column",width:170,paddingTop:30,paddingRight:15,"@media max-width: 400":{width:"100%",paddingRight:0},"@media orientation: landscape":{width:200}},title:{fontSize:35,fontWeight:"bold",marginBottom:10},image:{width:150,height:200,objectFit:"cover"}});function y(e){return console.log("pdf props",e),l.a.createElement(N.a,null,l.a.createElement(N.d,{size:"A4",style:w.page},l.a.createElement(N.g,{style:w.container},l.a.createElement(N.g,{style:w.leftColumn},l.a.createElement(N.b,{style:w.image,src:e.data.photo})),l.a.createElement(N.g,{style:w.rightColumn},l.a.createElement(N.f,{style:w.title},"Voter Detail"),l.a.createElement(N.f,null,"Elector's Name: ",e.data.electorname),l.a.createElement(N.f,null,"Father's Name: ",e.data.fathername),l.a.createElement(N.f,null,"Date of Birth: ",e.data.dob),l.a.createElement(N.f,null,"Sex: ",e.data.sex),l.a.createElement(N.f,null,"Address: ",e.data.address),l.a.createElement(N.f,null,"Mobile no: ",e.data.mobile)))))}var x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).searchVoter=function(e){e.preventDefault();var t={electorname:e.target.searchElecName.value,fathername:e.target.searchFatherName.value,address:e.target.searchAddress.value,dob:e.target.searchDob.value};Object.keys(t).forEach((function(e){return""===t[e]?delete t[e]:{}})),a.props.fetchVoters(t)},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card shadow-sm mt-5"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title mb-4 text-center"},"Voter Search"),l.a.createElement("form",{className:"container d-inline-flex flex-column",onSubmit:this.searchVoter},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-4 ",htmlFor:"searchElecName"},"Elector's Name"),l.a.createElement("input",{class:"form-control col-8",type:"text",id:"searchElecName",placeholder:"Enter Elector full name"})),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-4",htmlFor:"searchFatherName"},"Father's Name"),l.a.createElement("input",{class:"form-control col-8",type:"text",id:"searchFatherName",placeholder:"Enter Father full name"})),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-4",htmlFor:"searchAddress"},"Address"),l.a.createElement("input",{class:"form-control col-8",type:"text",id:"searchAddress",placeholder:"Enter Address"})),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-4",htmlFor:"searchDob"},"Date of birth"),l.a.createElement("input",{class:"form-control col-8",type:"date",id:"searchDob",placeholder:"Enter Date of birth"})),l.a.createElement("div",{className:"form-group mt-2 row"},l.a.createElement("button",{className:"btn w-100 btn-secondary"},"Search"))))),this.props.voters.length>0?this.props.voters.map((function(e){return l.a.createElement("div",{className:"card shadow-sm mt-2 d-flex flex-row"},l.a.createElement("img",{className:"card-img-left",src:e.photo,alt:"profile",style:{width:100,height:"auto",objectFit:"cover"}}),l.a.createElement("div",{className:"d-flex w-100 flex-column justify-content-between"},l.a.createElement("div",{className:"d-flex m-2 justify-content-between"},l.a.createElement("h5",null,e.electorname),l.a.createElement("small",{className:""},"DOB: ",e.dob)),l.a.createElement("div",{className:"d-flex  mr-2 mb-2 ml-2 justify-content-between"},l.a.createElement("p",null,"Address: ",e.address),l.a.createElement(N.c,{document:l.a.createElement(y,{data:e}),fileName:"".concat(e.electorname,".pdf"),className:"btn btn-primary"},(function(e){return e.loading?"Loading document...":"Download Pdf"})))))})):l.a.createElement(l.a.Fragment,null))}}]),t}(r.Component);x.defaultProps={voters:[]};var F=Object(v.b)((function(e){return{voters:e.voterreducer.voters}}),{fetchVoters:function(e){return function(t){var a;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=4,s.a.awrap(h.a.post("".concat("https://voter-app-api.herokuapp.com","/getfilteredvoter"),e));case 4:(a=r.sent).data.map((function(e){var t="data:".concat(e.photo.contentType,";base64,"),a=g(e.photo.data.data);return e.photo=t+a,e})),t({type:b,payload:a.data}),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),alert(r.t0),console.error(r.t0);case 13:case"end":return r.stop()}}),null,null,[[0,9]])}}})(x),O=a(60),j=a(244),D=a(246),S={},k=Object(O.c)({voterreducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return e.voters=t.payload,Object(D.a)({},e);default:return e}}}),C=[j.a],_=Object(O.e)(k,{},Object(O.d)(O.a.apply(void 0,C),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),A=a(127),V=a(61);var T=function(){return l.a.createElement(A.a,{basename:"/"},l.a.createElement(v.a,{store:_},l.a.createElement("nav",{className:"container nav mt-5 nav-tabs justify-content-center"},l.a.createElement(A.b,{className:"nav-item nav-link mr-2",activeClassName:"nav-item nav-link active",to:"/search"},"Search"),l.a.createElement(A.b,{className:"nav-item nav-link ml-2",activeClassName:"nav-item nav-link active",to:"/register"},"Register")),l.a.createElement("div",{className:"d-flex"},l.a.createElement(V.c,null,l.a.createElement(V.a,{path:"/search"},l.a.createElement(F,null)),l.a.createElement(V.a,{path:"/register"},l.a.createElement(E,null))))))};a(441);c.a.render(l.a.createElement(T,null),document.getElementById("root"))}},[[247,1,2]]]);
//# sourceMappingURL=main.bee13a6b.chunk.js.map